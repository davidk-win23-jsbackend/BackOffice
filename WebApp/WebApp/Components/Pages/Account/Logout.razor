@page "/logout"
@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime

<h3>Logging Out...</h3>

@code {
    protected override async Task OnInitializedAsync()
    {
        // Log before removing the token
        Console.WriteLine("Before removing token: " + await JSRuntime.InvokeAsync<string>("localStorage.getItem", "authToken"));

        // Clear authentication token from local storage
        await JSRuntime.InvokeVoidAsync("localStorage.removeItem", "authToken");

        // Log after removing the token
        Console.WriteLine("After removing token: " + await JSRuntime.InvokeAsync<string>("localStorage.getItem", "authToken"));

        // Redirect to the correct login page URL after logout
        NavigationManager.NavigateTo("/signin");
    }
}
